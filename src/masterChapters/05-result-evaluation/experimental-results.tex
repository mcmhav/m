% !TEX root = ../../report.tex

\section{Experimental Results}
\label{sec:results}

The following section will present our experimental results, dicuss our findings and
discuss whether or not our results supports our hypotheses.

\section{Purchase Only Results}

Attempting to do collaborative filtering, let alone do recommendations with only 466 users, 1188 items and
an average of 1.34 ratings per items is no easy task using traditional recommender systems. However, these numbers
are meant as a baseline to show what one could expect when only looking at purchase data.

\begin{table}[H]
    \centering
    \begin{tabular}{*{5}l}
    \toprule
    Model           &   AUC         &   $MAP@20$ \\ \midrule
    \rowcolor{Gray}
    Most Popular    &   0.30314     &   0.00000 \\
    ItemBasedKNN    &   0.52366     &   0.00000 \\
    UserBasedKNN    &   0.52189     &   0.00000 \\
    BPR-MF          &   0.34490     &   0.00000 \\
    \bottomrule
    \end{tabular}
\caption[Experimental Results - Purchase Only Dataset]{Experimental Results for the purchase only dataset using random splits. The results are averaged over 5 runs}
\label{table:results-purchase-only}
\end{table}

To our surprise our Most Popular recommender performed much worse than random guessing. But since the average item
have been given on average 1.34 ratings one could not expect to much since the ratings are evenly distribution over
all the items. Both item-based and user-based collaborative filtering performed marginally better than random guessing,
while BPR-MF performed much worse than random guessing. The $MAP@20$ scores for all recommenders are to small to be shown
using 5 descimals, meaning that close to zero relevant items were retrieved in the top 20 lists.

\section{Multiple Events Results}

When incorporating both clicks and likes in addition to purchases we ended up with a total of 1,511 users, 5,855 items
and an average of 4.76 ratings per item. Here each event type is seen as equally important and is not weighted differently.
These numbers are meant as a baseline to show what is possible using binary positive feedback only recommendation methods.
Our goal is therefore to prove that these results can be beaten using our implicit ratings.

This subsection will present the experimental results for the SoBazaar dataset using implicit ratings. First we present
our results using both time-based and random splits testing different implicit rating mapping functions on different recommendation methods.

\subsection{Time-based splits}

As we have access to timestamps we decided to split the dataset on time, making the evaluation more \textit{realistic}, but also to measure the
affect of factoring in recentness. However, there seem to have been particularly few purchase activity over the last two months. We first attempted to evaluate the recommenders
using a 90:10 timesplit, making predictions for the events between 7. may - 19. may. However, there have only been recorded two purchase or 0.07\% of
all events in the last twelve day period, making it a bad period to use for evaluation. We did therefor not run multiple runs on this
data, as we thought it more beneficial to get a better split to evaluate on. The results we did get can be found in the Appendix~\ref{appendix:tab9010-timesplits}
We instead opted to use a 80:20 timesplit, predicting the events between 16. April - 22. May. Our baselines, or binary methods are colored gray to
make the separation between them clearer. For our implicit ratings we wish to test all implicit rating functions individually and by making two different blends.
Blend 1 factors in Count, Popularity, Recentness and Price, Blend 2 only factors in Price and Popularity.

\begin{table}[H]
\centering
\resizebox{
\columnwidth}{!}{
\begin{tabular}{*{19}l}
\toprule
Model & AUC &	$MAP@20$ &	$T_{click}$ &	$T_{want}$ &	$T_{purchase}$ &	$P_{click}$&	$P_{want}$ &	$P_{purchase}$ &	$R_{click}$ &	$R_{want}$ &	$R_{purchase}$ &	$MAP@20_{click}$ &	$MAP@20_{want}$	& $MAP@20_{purchase}$ &	 \\
\midrule
\rowcolor{Gray}
Most Popular 		 		&	0.613218 &	0.004856 &	3038 &	2328 &	36 &	28 &	10 &	0 &	0.009217 &	0.004296 &	0 		 &	0.004622 &	0.003046 &	0 		 &	 \\
\rowcolor{Gray}
ItemBasedKNN k=100			& 	0.464325 &	0.002638 &	3038 &	2328 &	36 &	14 &	7  &	1 &	0.004608 &	0.003007 &	0.027778 &	0.002576 &	0.000623 &	0.002778 &	 \\
\rowcolor{Gray}
UserBasedKNN k=200  		&	0.585442 &	0.004358 &	3038 &	2328 &	36 &	17 &	14 &	3 &	0.005596 &	0.006014 &	0.083333 &	0.002927 &	0.007883 &	0.053241 &	 \\
\rowcolor{Gray}
BPR-MF	 					&	0.601683 &	0.004902 &	3038 &	2328 &	36 &	21.8 &	9 &	  0.8 &	0.007176 &	0.003866 &	0.022222 &	0.004574 &	0.002854 &	0.004762 &	\\
\rowcolor{Gray}
BPR-Linear					&	0.559033 &	0.000443 &	3038 &	2328 &	36 &	2 	  &	2 	  	&	0 &	0.000658 &	0.000859 &	0 		 &	0.000136 &	0.000709 &	0 		 &	\\

%ALS-WR Old settings
ALS-WR Count 		        &   0.628547 &  0.006958 &  3037 &  2328 &  36 & 	19.25 & 22.25 	& 	3 & 0.006338 &  0.009558 &  0.083333 &  0.005049 &  0.009524 &  0.062978 &   \\
ALS-WR Popularity   	    &   0.625682 &  0.001705 &  3037 &  2328 &  36 & 	13.5  & 12.75 	& 	3 & 0.004445 &  0.005477 &  0.083333 &  0.000739 &  0.003915 &  0.014694 &   \\
ALS-WR Recentness     		&   0.631948 &  0.006444 &  3037 &  2328 &  36 & 	19    & 17.5  	& 	3 & 0.006256 &  0.007517 &  0.083333 &  0.004529 &  0.010394 &  0.073505 &   \\
ALS-WR Price          		&   0.611358 &  0.003687 &  3037 &  2328 &  36 & 	18.75 & 13    	&   4 & 0.006174 &  0.005584 &  0.111111 &  0.002123 &  0.007305 &  0.038556 &   \\
ALS-WR Blend 1              &   0.623146 &  0.005666 &  3037 &  2328 &  36 & 	19.25 & 14.5  	&  	3 & 0.006338 &  0.006229 &  0.083333 &  0.004144 &  0.007086 &  0.059737 &   \\
ALS-WR Blend 2				&   0.617061 &  0.006219 &  3037 &  2328 &  36 &    17.75 & 12.75 	& 	3 & 0.005845 &  0.005477 &  0.083333 &  0.004658 &  0.008841 &  0.039871 &   \\
%ALS-WR 100 150 15 true 10
ALS-WR Popularity			&	0.638035 &	0.001479 &	3038 &	2328 &	36 &   11.5   &	12 		&	0.4375  &	0.003785 &	0.005155 &	0.012153 &	0.000496 &	0.005488 &	0.000976 &	 \\
ALS-WR Blend 1 				&	0.656735 &	0.005932 &	3038 &	2328 &	36 &   23.875 &	16.9375 &	2.25 	&	0.007859 &	0.007276 &	0.0625 &	0.004373 &	0.009837 &	0.033155 &	 \\
ALS-WR Count Sigmoid		&	0.661443 &	0.006259 &	3038 &	2328 &	36 &   26.0625&	23.0625 &	3 	 	&	0.008579 &	0.009907 &	0.083333 &	0.00395 &	0.019269 &	0.015598 &	 \\
ALS-WR Price  				&	0.647824 &	0.004515 &	3038 &	2328 &	36 &   18.8125&	16.625  &	2.75    &	0.006192 &	0.007141 &	0.076389 &	0.002964 &	0.008836 &	0.023678 &	 \\
ALS-WR Recentness 		 	&	0.664506 &	0.005746 &	3038 &	2328 &	36 &   24.125 &	17.1875 &	2.1875  &	0.007941 &	0.007383 &	0.060764 &	0.003672 &	0.014063 &	0.04791 &	 \\
%
%ALS-WR FINAL
ALS-WR Popularity Linear  	&	0.638199 &	0.001481 &	3038 &	2328 &	36 &	9.9375 	  &	12 		  &	0.429688 &	0.003271 &	0.005155 &	0.011936 &	0.00043 &	0.00577 &	0.001082 &	 \\
ALS-WR Blend 1 				&	0.657957 &	0.005772 &	3038 &	2328 &	36 &	24.859375 &	16.742188 &	2.03125  &	0.008183 &	0.007192 &	0.056424 &	0.00421 &	0.009891 &	0.028202 &	 \\
ALS-WR Sigmoid &	0.66227 &	0.006349 &	3038 &	2328 &	36 &	25.687874 &	23.74012 &	3 &	0.008456 &	0.010198 &	0.083333 &	0.004006 &	0.019112 &	0.031268 &	 \\
ALS-WR Price 				&	0.648736 &	0.004439 &	3038 &	2328 &	36 &	18.476562 &	16.828125 &	2.96875  &	0.006082 &	0.007229 &	0.082465 &	0.002892 &	0.008929 &	0.021748 &	 \\
ALS-WR Recentness 			&	0.664772 &	0.005981 &	3038 &	2328 &	36 &	23.765625 &	16.273438 &	2.773438 &	0.007823 &	0.00699 &	0.07704 &	0.003701 &	0.017824 &	0.047961 &	 \\
%TODO - ALS-WR Blend 2
%TODO - ALS-WR Blend (sigmoid, price, popularity)
ALS-WR Blend 3 &	0.654464 &	0.006404 &	3038 &	2328 &	36 &	22.165878 &	16.512444 &	2.000031 &	0.007296 &	0.007093 &	0.055556 &	0.004827 &	0.012305 &	0.016913 &	 \\






\bottomrule
\end{tabular}
}
\caption{Time-based split results (16. April - 19. May). All scores are averaged over 5-10 runs}
\end{table}

Again we see that the event distribution if far from optimal as the test set contains only 0.6\% purchases. However, further increasing the
size of the split did not improve this ratio noticeably. To our surprise none of the binary methods significantly outperformed the non-personalized most-popular
recommender. We chose not to include the results from our collaborative filtering methods using our implicit ratings, as they were really poor in comparison to ALS-WR.
We believe that this mainly can be attributed to that they are designed for explicit feedback data, and not positive feedback only data, as in our case.
For ALS-WR we see a noticable improvement overall number of wants and purchases retrieved. In particular the implicit ratings that factored in recency only seems
to give the best performance when considering the $MAP@20$ scores and recall. This was a pleasant surprise, since this is a time-based split. We chose to
not include the results from the collaborative filtering methods using implicit ratings as they were really poor in comparison to ALS-WR. For more model results
see the Appendix \ref{appendix:time-based-results}.
There is no dithering implemented in the collaborative filtering algorithms used, which is a weakness, combined with the fact that the dataset split is the same
each time, giving us no decimal numbers for the averages. We can see that ALS-WR trained with our implicit ratings marginally outperformed all binary methods for
most metrics. However, we believe that this should be further evaluated due to the lack of dithering. By doing random splits and some shuffeling we will get a more
truer picture, even though we have to sacrifice our recentness which seems to work quite well.

\subsection{Random splits}

Since we were not completely satisfied with the event distribution on our time-splits we decided to also evaluate the recommenders on random dataset splits.
As it is a random split, we chose to only factor in popularity and price, in addition to blending them together.

\begin{table}[H]
\centering
\resizebox{
\columnwidth}{!}{
\begin{tabular}{*{19}l}
\toprule
Model & AUC &	$MAP@20$ &	$T_{click}$ &	$T_{want}$ &	$T_{purchase}$ &	$P_{click}$&	$P_{want}$ & $P_{purchase}$ &	$R_{click}$ &	$R_{want}$ &	$R_{purchase}$ &	$MAP@20_{click}$ &	$MAP@20_{want}$	& $MAP@20_{purchase}$ &	 \\
\midrule
%Binary Methods
\rowcolor{Gray}
Most-Popular    			&   0.751516     & 0.013236  &   1323    &   1235    &   135     &   63      &   40.75   & 3.5     &   0.0476135   &   0.03300275  &   0.0270445   &   0.0147725   & 0.0111475 &   0.0098995 & \\
\rowcolor{Gray}
ItemBased Log	   			&   0.690723     & 0.002094  &   1353.9  &   1250.5  &   138     &   8.8     &   4.6     & 1.47    &   0.006488    &   0.003672    &   0.007252    &   0.001470    & 0.002043  &   0.000618  & \\
\rowcolor{Gray}
ItemBasedKNN k=120  		&   0.7357796    & 0.0069094 &   1295.8  &   1231.4  &   146.8   & 	37.6    &   53      & 7.2     &   0.0290256   &  0.0431066    &  0.0487262    &  0.0044356    &  0.0097038&   0.0060544 & \\
\rowcolor{Gray}
UserBasedKNN K = 200 cos	&   0.7926842	& 0.0317002	&	1282.2	&   1186.2 &	136.4	&	102.2	&	101.4	& 12.6    &	  0.0797042	  &	0.0854958	  &	0.092375	  &	0.128002	  &	0.182436  &	0.0349802	&	\\
\rowcolor{Gray}
BPR-MF          			&   0.7286434    & 0.0099586 &   1332.8  &   1233.8  &   135.4   &   51.4    &   31      & 5.2     &   0.0385224   &   0.025142    &   0.0385042   &   0.0120152   & 0.0058942 &   0.0133786 & \\
\rowcolor{Gray}
BPRLinear       			&   0.7097516    & 0.0070648 &   1344.3  &   1241.9  &   141.3   &   27.4    &   25.1    & 2.5     &   0.0203941   &   0.0202133   &   0.017821    &   0.006298    & 0.0075964 &   0.0022692 & \\
%ItemBased
IBCF Price					&	0.680758 &	0.004616 &	1332.8 &	1245.7 &	137.15  &	21.1   		&	17.6    &	5.63   &	0.015859 &	0.014138 &	0.041189 &	0.003722 &	0.005    &	0.008681 &	 \\
IBCF Popularity				&	0.554495 &	0.001209 &	1335.7 &	1230.1 &	149.9 	&	0.3    		&	6 	    &	5.95   &	0.000198 &	0.004871 &	0.038575 &	0.000028 &	0.002344 &	0.006537 &	 \\
IBCF Blend 2			    &	0.681773 &	0.006226 &	1328.5 &	1245   &	147.5   &	20.5        &	18.5    &	4.5    &	0.015464 &	0.014836 &	0.030416 &	0.004825 &	0.006603 &	0.009863 &	 \\
%ALS-WR 100 100 15 true 10
ALS-WR Price				&	0.797892 &  0.034154  &	1340.5	&	1250.8	&	138.0	&	108.3		&	121.4	&	15.0   &	0.080842 &	0.09701	 &	0.108833 &	0.028443 &	0.035474 &	0.033493 & 	\\
ALS-WR Popularity		 	&	0.816561 &	0.023916 &	1340.5	&	1246.25 &	139   	&	86.5		&	98.25   &	8.5    &	0.064534 &	0.078812 &	0.060836 &	0.018396 &	0.031169 &	0.01758 &	\\
ALS-WR Blend 2				&	0.800422 &	0.034519 &	1344.75 &	1246.5  &	134.5 	&	104.5 		&	120.75  &	13.5   &	0.077686 &	0.097038 &	0.100486 &	0.026307 &	0.041865 &	0.025649 &	 \\



\bottomrule
\end{tabular}
}
\caption{Random split results 90:10 - The Results are averaged over 10 runs}
\end{table}

As you can see the random splits significantly improved our event distribution giving us approximately 5\% purchase events
for each run. The scores in general for all metrics are much higher for the random splits. The main reason for the low AUC scores
is the recommendation lists generated by Mahout. In the test period 143 new users and 870 previously unrated items was added to the
dataset, which the recommender is not able to generate any recommendations for. As you can see from the table,
ItemBasedKNN using cosine similarity with 200 neighbors dominates the binary method category with respect to all metrics.
We also notice that all methods except UserBasedKNN and ALS-WR did not significantly outperform a simple non-personalized
recommender, which could be explained by our sparse data. Another interesting observation is that IBCF produce poor recommendations
using popularity alone, but that the result improves drastically when blending it with Price. We also again notice that using traditional
collaborative filtering methods yield far from optimal results. ALS-WR has the best performance overall, but only marginally.
The results not shown in the table can be found in the Appendix~\ref{appendix-random-split-results}

\subsection{Cold-Start Results}

The following subsections will present our results from our cold-start evaluation runs. As ALS-WR proved to be the best method overall we wish to
see how well it performs in the different cold-start scenarios. We will use a most-popular recommender and IBCF as baselines to get a better
overview of how well the different methods perform in comparison. In a switching hybrid recommender one could e.g. use a most popular
recommender to generate recommendations to new users, then switch to IBCF recommender with filterbots when the user have rated at least one item, and at a later
point e.g. when a user have rated 10 items, use ALS-WR to provide personalized recommendations. To recap, our cold-start solution was designed
for neighborhood models and not latent factor methods. This means that we do not expect to much from applying them to ALS-WR.

We then try to inject different combinations of filterbots to see if the recommendation quality improves.
Running cold-start experiments costly in the sense that we need to train 9 different models for each implicit rating function and model.
In addition we also have $2^5$ possible filterbots combinations, and the option of using different parameters for each method. We therefore chose
to limit the number of combinations tested to 3, based on our preliminary results. The first combination, denoted [0,0,0,0,1], injects 12 brand
bots which each give each item of a particular brand the maximum rating. Combination two, denoted [0,0,1,0,1] injects brand bots plus a popularity bot, which rates
the items based on their popularity. Combination three, denoted [1,1,1,1,1] injects all the five bots described in~\ref{implementation-filterbots}.

\subsection{Time-based splits}

The following tables show the results from our cold-start runs using time-based splits using Blend 1.

\begin{table}[H]
\centering
\resizebox{\columnwidth}{!}{%
\begin{tabular}{*{17}{l}}
\toprule &
\multicolumn{3}{c}{AUC} & \multicolumn{3}{c}{$MAP@20$} & \multicolumn{3}{c}{$R_{click}$} &  \multicolumn{3}{c}{$R_{want}$} 	& \multicolumn{3}{c}{$R_{purchase}$} & \\
\cmidrule(lr){2-4}    \cmidrule(lr){5-7}    \cmidrule(lr){8-10}    \cmidrule(lr){11-13}    \cmidrule(lr){14-16} Model &
\multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} &
\multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} &
\multicolumn{1}{c}{75\%} & 	\\ \midrule


%PRE FILTERBOTS
\rowcolor{Gray}
Most-Popular 	 &	0.2964  &	0.908403&	0.973461&	0&	0.015807&	0.043607&	0&	0.122245&	0.14955	&	0&	0.083855&	0.116645&	0&	0.085254&	0.114296&	\\

\rowcolor{Gray}
IBCF 			 &	0.581572&	0.783782&	0.647155&	0.000183&	0.008705&	0.002948&	0.000926&	0.021223&	0.01396	&	0.001526&	0.018261&	0.015304&	0&	0.076197&	0.013116	&	\\
IBCF [0,0,0,0,1] &	0.541997&	0.58478	&	0.642857&	0.014604&	0.005501&	0.001959&	0.009187&	0.009037&	0.006354&	0.01123	& 0.009327&	0.005027&	0.009601&	0.008387&	0.019131& \\
IBCF [0,0,1,0,1] &	0.550556&	0.759351&	0.785536&	0.000507&	0.002808&	0.003399&	0.002737&	0.008781&	0.011933&	0.00152	&	0.005298&	0.009464&	0.004037&	0.012874&	0	& \\
IBCF [1,1,1,1,1] &	0.592059&	0.67624	&	0.79985&	0.000984&	0.002873&	0.005914&	0.00318&	0.011957&	0.022349&	0.002196&	0.008525&	0.016026&	0.004175&	0.011679&	0.033806& \\

\rowcolor{Gray}
ALS-WR 			   & 0.548427&	0.808723&	0.728263&	0.000192&	0.037148&	0.011774&	0.000926&	0.092468&	0.037826&	0.000382&	0.108875&	0.03708	&	0	&	0.095247	&	0.026232	&	\\
ALS-WR [0,0,0,0,1]  & 0.585388	&	0.802813	&	0.883175	&	0	&	0.014429	&	0.028139	&	0	&	0.037112	&	0.112164	&	0	&	0.03914	&	0.132859	&	0	&	0.045603	&	0.092624	& \\
ALS-WR [0,0,1,0,1] & 0.584148&	0.809751&	0.867979&	0		&	0.013717&	0.031943&	0	&	0.036174&	0.114726&	0	&	0.040547&	0.131648&	0	&	0.041833&	0.08271	& \\
ALS-WR [1,1,1,1,1] & 0.584146&	0.801188&	0.883362&	0		&	0.013521&	0.027455&	0&	0.036424&	0.10958&	0&	0.037991&	0.12838	&	0	&	0.035166	&	0.083817	& \\

\bottomrule
\end{tabular}
}
\caption{Cold-start item results - Time-based Splits}
\end{table}

The main reason why the most-popular recommender performs so well for this split is that many of the most popular items are used as test items, since
all test items have been rated by a minimum of 15 users. The main improvements seen for adding filterbots is the combination [0,0,0,0,1] which seem to give
a good improvement for both the 10\% and 40\% splits. Again we see that the ALS-WR outperforms IBCF on all counts for the 75\% splits.

\begin{table}[H]
\centering
\resizebox{\columnwidth}{!}{%
\begin{tabular}{*{17}{l}}
\toprule &
\multicolumn{3}{c}{AUC} & \multicolumn{3}{c}{$MAP@20$} & \multicolumn{3}{c}{$R_{click}$} &  \multicolumn{3}{c}{$R_{want}$} 	& \multicolumn{3}{c}{$R_{purchase}$} & \\
\cmidrule(lr){2-4}    \cmidrule(lr){5-7}    \cmidrule(lr){8-10}    \cmidrule(lr){11-13}    \cmidrule(lr){14-16} Model &
\multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} &
\multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} &
\multicolumn{1}{c}{75\%} & 	\\ \midrule


%Pre Filterbots
\rowcolor{Gray}
Most-Popular &	0.653873&	0.658753&	0.657664&	0.017394&	0.005375&	0.010465&	0.023064&	0.018463&	0.01834	&	0.020592&	0.021551&	0.021091&	0.023878&	0.04188	&	0.041581	&	\\

\rowcolor{Gray}
IBCF 				&  0.525182&	0.569436&	0.618759&	0.013867&	0.003454&	0.005097&	0.00811	&	0.001534&	0.010209&	0.013058&	0.009157&	0.011673&	0.026996&	0.017607&	0.018497&	\\
IBCF [0,0,0,0,1] 	&  0.596502& 	0.6813	&	0.801234&	0.0015&	0.003662&	0.006053&	0.003688&	0.012979&	0.022237&	0.002271&	0.008763&	0.016609&	0.004107&	0.019544&	0.03705	& \\
IBCF [0,0,1,0,1] 	&  0.56392 &	0.636005 &	0.652698 &	0.01133	&	0.001954&	0.003557&	0.006783&	0.002302&	0.00223	&	0.00717	&	0.00322	&	0.002483&	0.01855	&	0.004944&	0& \\
IBCF[1,1,1,1,1]		&  0.579214&	0.602512&	0.644213&	0.015548&	0.005702&	0.001516&	0.007389&	0.006104&	0.004312&	0.0088&	0.00623	&	0.004079&	0.006545&	0.004983&	0.007391	& \\

\rowcolor{Gray}
ALS-WR 			   	& 0.669121&	0.71492	&	0.747457&	0.021574&	0.012256&	0.015096&	0.015861&	0.024894&	0.017286&	0.018796&	0.030244&	0.024057&	0.035962&	0.024274&	0.039299	&	\\
ALS-WR [0,0,0,0,1] 	&	0.750818	&	0.776184	&	0.802479	&	0.032507	&	0.021176	&	0.013645	&	0.019687	&	0.018529	&	0.024681	&	0.02235	&	0.025151	&	0.03131	&	0.045516	&	0.049708	&	0.057392	& \\
ALS-WR [0,0,1,0,1]  & 0.743056&	0.775837 &	0.794349 &	0.040067 &	0.022627&	0.011641&	0.013508&	0.014531&	0.0137 &	0.021821 &	0.021754 &	0.02263	&	0.035674 &	0.031372&	0.02843	& \\
ALS-WR [1,1,1,1,1] 	& 0.765483& 0.783833&	0.80291	&	0.032886&	0.020741&	0.011311&	0.012785&	0.012398&	0.013864&	0.017822&	0.020488&	0.021422&	0.027702&	0.025919&	0.030864	& \\

\bottomrule
\end{tabular}
}
\caption{Cold-start User Results -  Time-based Splits}
\end{table}

From the table we can see that most popular outperform IBCF on all counts except $R_{purchase}$ at 10\%. ALS-WR and most-popular have more or less
the same performance, ALS-WR being slightly better, except for the purchase numbers. There are no apparent improvements to be seen from adding filterbots
this time around.

\begin{table}[H]
\centering
\resizebox{\columnwidth}{!}{%
\begin{tabular}{*{17}{l}}
\toprule &
\multicolumn{3}{c}{AUC} & \multicolumn{3}{c}{$MAP@20$} & \multicolumn{3}{c}{$R_{click}$} &  \multicolumn{3}{c}{$R_{want}$} 	& \multicolumn{3}{c}{$R_{purchase}$} & \\
\cmidrule(lr){2-4}    \cmidrule(lr){5-7}    \cmidrule(lr){8-10}    \cmidrule(lr){11-13}    \cmidrule(lr){14-16} Model &
\multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{60\%} & \multicolumn{1}{c}{80\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{60\%} & \multicolumn{1}{c}{80\%} & \multicolumn{1}{c}{40\%} &
\multicolumn{1}{c}{60\%} & \multicolumn{1}{c}{80\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{60\%} & \multicolumn{1}{c}{80\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{60\%} &
\multicolumn{1}{c}{80\%} & 	\\ \midrule

%Pre Filterbots
\rowcolor{Gray}
Most Popular &  0.619492&	0.593922&	0.601734&	0.005504&	0.004694&	0.003103&	0.009514&	0.007218&	0.006234&	0.006499&	0.006066&	0.004766&	0.027778&	0	&	0 & \\

\rowcolor{Gray}
IBCF 			 &  0.337922&	0.340169&	0.344166&	0.000842&	0.00055&	0&	0.002297&	0&	0&	0.002166&	0.0013& 0	& 0.027778& 0&	0	&	\\
IBCF [0,0,0,0,1] &	0.328139&	0.333955&	0.362105&	0.000348&	0.002444&	0.001836&	0.000656&	0.000328&	0.004593&	0.000433&	0.002166&	0.002166&	0	&	0.027778	&	0	& \\
IBCF [0,0,1,0,1] &	0.358274&	0.355031&	0.41092	&	0.00057	&	0.00078	&	0.000427	&	0.001312	&	0.001969	&	0.00164	&	0.002166	&	0.001733	&	0	&	0.027778	&	0	&	0	& \\
IBCF [1,1,1,1,1] &	0.468626&	0.509375&	0.534009&	0.001836&	0.002444&	0.000348&	0.004593&	0.000328&	0.000656&	0.002166&	0.002166&	0.000433&	0	&	0.027778	&	0	& \\

\rowcolor{Gray}
ALS-WR 				&	0.570946&	0.568137&	0.600738&	0.002545&	0.001761&	0.006208&	0.003937&	0.002625&	0.004265&	0.003466&	0.005199&	0.004766&	0.027778&	0.027778	&	0 & \\
ALS-WR [0,0,0,0,1] &	0.573326&	0.582566&	0.632071&	0.00213&	0.003647&	0.003087&	0.006562&	0.006234&	0.00689	&	0.0013&	0.002166&	0.005199&	0	&	0	&	0	& \\
ALS-WR [0,0,1,0,1] 	& 	0.602176&	0.596168&	0.640561&	0.001719&	0.0028&	0.004611&	0.003404&	0.005659&	0.00689	&	0.003954&	0.003304&	0.007095&	0	&	0	&	0.024306	& \\
ALS-WR [1,1,1,1,1]  & 	0.686571&	0.682588&	0.69171	&	0.003087&	0.003647&	0.00213&	0.00689&	0.006234&	0.006562&	0.005199&	0.002166&	0.0013&	0&	0&	0	& \\

\bottomrule
\end{tabular}
}
\caption{Cold-start System Results - Time Splits}
\end{table}

Again we can see that most-popular outperforms IBCF on all counts except $R_{purchase}$ at 10\%. ALS-WR and most popular again performs equally well.
We can see no apparent improvements from using filterbots to IBCF. The filterbots do not seem to improve the performance.

\subsection{Random splits}

The following results shows the results from our random cold-start splits using Blend 2.

\begin{table}[H]
\centering
\resizebox{\columnwidth}{!}{%
\begin{tabular}{*{17}{l}}
\toprule &
\multicolumn{3}{c}{AUC} & \multicolumn{3}{c}{$MAP@20$} & \multicolumn{3}{c}{$R_{click}$} &  \multicolumn{3}{c}{$R_{want}$} 	& \multicolumn{3}{c}{$R_{purchase}$} & \\
\cmidrule(lr){2-4}    \cmidrule(lr){5-7}    \cmidrule(lr){8-10}    \cmidrule(lr){11-13}    \cmidrule(lr){14-16} Model &
\multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} &
\multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} &
\multicolumn{1}{c}{75\%} & 	\\ \midrule

\rowcolor{Gray}
Most-Popular		& 0.3096225 & 0.90448 & 0.8469825 & 0 & 0.0267585 & 0.0234215 & 0 & 0.1207895 & 0.0943945 & 0 & 0.093357 & 0.07894715 & 0 & 0.08314335 & 	0.07447935 & \\
\rowcolor{Gray}
IBCF				& 0.585499& 0.660409& 	0.7477435 & 0.000022 & 0.00571 & 0.005563 & 0.000308 & 0.019538 & 0.013896 & 0.000188 & 0.022364 & 0.0170475 & 0 & 0.034109 & 0.0284045 & \\
IBCF [0,0,0,0,1] 	& 0.594163&	0.678803&	0.797591&	0.0006	&	0.003386&	0.006142&	0.003515&	0.015753&	0.019844	&	0.002762	&	0.009923	&	0.01597	&	0.003	&	0.018399	&	0.049391	& \\
IBCF [0,0,1,0,1] 	& 0.541085&	0.762218&	0.707801&	0.000543&	0.002345&	0.001898&	0.001826&	0.008287&	0.007559&	0.002628&	0.007263&	0.001294&	0	&	0.017544	&	0.012658	& \\
IBCF [1,1,1,1,1]	& 0.494814&	0.541715&	0.500892&	0.000643&	0.001378&	0.000324&	0.003681&	0.006961&	0.003198&	0.006074&	0.005627&	0.001332&	0	&	0	&	0	& \\
\rowcolor{Gray}
ALS-WR 				& 0.572094& 0.8063845& 	0.698199&   0.000124&	0.024819&	0.024362&	0.00069	&	0.0745415&	0.06881	&	0.000192&	0.0819305&	0.088515&	0.0025135&	0.071247&	0.071688	& \\
ALS-WR [0,0,0,0,1]  & 0.610836&	0.781638&	0.861633&	0.000017&	0.014531&	0.035956&	0.000265&	0.040324&	0.114678&	0	&	0.039703&	0.128647&	0	&	0.058392	&	0.078734	& \\
ALS-WR [0,0,1,0,1	& 0.566195&	0.812083&	0.795006&	0.000035&	0.030628&	0.045217&	0.000301&	0.074944&	0.106405&	0	&	0.088501&	0.156992&	0&	0.095808&	0.174603	& \\
ALS-WR [1,1,1,1,1]	& 0.637067& 0.79768	&	0.762618&	0.000114&	0.026056&	0.038596&	0.000615&	0.070052&	0.115016&	0.000381&	0.073538&	0.120321&	0.003937	&	0.10119	&	0.138889	& \\ \\

\bottomrule
\end{tabular}
}
\caption{Cold-Start Item Results - Random Splits}
\end{table}

Again we see that most-popular performs well, which mainly is a result of how the splits are made. ALS-WR can here be seen to significantly outperform
IBCF. There are no significant performance improvements from the filterbots.


\begin{table}[H]
\centering
\resizebox{\columnwidth}{!}{%
\begin{tabular}{*{17}{l}}
\toprule &
\multicolumn{3}{c}{AUC} & \multicolumn{3}{c}{$MAP@20$} & \multicolumn{3}{c}{$R_{click}$} &  \multicolumn{3}{c}{$R_{want}$} 	& \multicolumn{3}{c}{$R_{purchase}$} & \\
\cmidrule(lr){2-4}    \cmidrule(lr){5-7}    \cmidrule(lr){8-10}    \cmidrule(lr){11-13}    \cmidrule(lr){14-16} Model &
\multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} &
\multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{75\%} & \multicolumn{1}{c}{10\%} & \multicolumn{1}{c}{40\%} &
\multicolumn{1}{c}{75\%} & 	\\ \midrule

%Pre Filterbots
\rowcolor{Gray}
Most-Popular		& 0.7206055	& 0.7260445 &	0.729684&	0.029688&	0.017628	& 0.0062015 &	0.039089 &	0.03653 &	0.021841 &	0.02732585 &	0.02744665 &	0.01734265 &	0.02675 & 0.02343615 &	0.01177485& \\
\rowcolor{Gray}
IBCF				& 0.538305	& 0.6320575 &	0.705002 &	0.021137 &	0.006926 &	0.0006575 &	0.0163445 &	0.0133165 &	0.0022905 &	0.020079 &	0.012804&	0.0042755 &	0.0310315&	0.033987&	0.012295& \\
IBCF [0,0,0,0,1]    & 0.529548	& 0.585533&	0.642018&	0.016432&	0.004607&	0.002134&	0.011751&	0.009839&	0.007439&	0.02032	&	0.012351&	0.00723	&	0.040046	&	0.017583	&	0.024582	& \\
IBCF [0,0,1,0,1] 	& 0.618597  & 0.70795	& 0.711321&	0.012549&	0.002649&	0.000948&	0.014675&	0.004016&	0.002068&	0.011554&	0.006788&	0.001481	&	0.034169	&	0.020906	&	0.01626	 & \\
IBCF [1,1,1,1,1] 	& 0.573466	& 0.522617&	0.503525&	0.008001&	0.003985&	0.000301&	0.005298&	0.005475&	0.002742&	0.008436&	0.005151&	0.002597&	0.016791&	0.018277&	0.014388& \\
\rowcolor{Gray}
ALS-WR 				& 0.741754&	0.796946&	0.7571865&	0.051159&	0.0305585 &	0.0325415&	0.0401135&	0.0409645&	0.0316075&	0.054792&	0.057723&	0.047797&	0.063628&	0.064841	&	0.0428965	& \\
ALS-WR [0,0,0,0,1]  & 0.725338&	0.760125&	0.786315&	0.035379&	0.021941&	0.014229&	0.026768&	0.027548&	0.032832&	0.034811&	0.037475&	0.041361&	0.059395&	0.0546	&	0.062292	& \\
ALS-WR [0,0,1,0,1] 	& 0.695013&	0.767194&	0.788278&	0.045986 &	0.045413&	0.019044&	0.03157&	0.052224&	0.031098&	0.042866&	0.05386	& 0.045775&	0.040752& 0.055& 0.034884& \\
ALS-WR [1,1,1,1,1] 	& 0.696383&	0.780863&	0.813625&	0.03936	&	0.045689&	0.0152	&	0.030845&	0.046977&	0.036929&	0.036536	&	0.057541	&	0.041757&	0.038356	&	0.07173	&	0.044248	& \\

\bottomrule
\end{tabular}
}
\caption{Cold-start User Results - Random Splits}
\end{table}

ALS-WR can again be seen to outperform both most popular and IBCF. The filterbot combination [0,0,0,0,1] seem to improve the 75\% split performance for all
metrics except for AUC.


\begin{table}[H]
\centering
\resizebox{\columnwidth}{!}{%
\begin{tabular}{*{17}{l}}
\toprule &
\multicolumn{3}{c}{AUC} & \multicolumn{3}{c}{$MAP@20$} & \multicolumn{3}{c}{$R_{click}$} &  \multicolumn{3}{c}{$R_{want}$} 	& \multicolumn{3}{c}{$R_{purchase}$} & \\
\cmidrule(lr){2-4}    \cmidrule(lr){5-7}    \cmidrule(lr){8-10}    \cmidrule(lr){11-13}    \cmidrule(lr){14-16} Model &
\multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{60\%} & \multicolumn{1}{c}{80\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{60\%} & \multicolumn{1}{c}{80\%} & \multicolumn{1}{c}{40\%} &
\multicolumn{1}{c}{60\%} & \multicolumn{1}{c}{80\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{60\%} & \multicolumn{1}{c}{80\%} & \multicolumn{1}{c}{40\%} & \multicolumn{1}{c}{60\%} &
\multicolumn{1}{c}{80\%} & 	\\ \midrule

%Pre Filterbots
\rowcolor{Gray}
Most Popualar 		& 0.663937&	0.6752165&	0.708515&	0.0139605&	0.0125785&	0.014044&	0.033597&	0.0370545&	0.041488&	0.029427&	0.0297455&	0.03214465&	0.021974&	0.0243725&	0.02887465 & \\
\rowcolor{Gray}
IBCF 			 	& 0.5730765&	0.5847735&	0.613753&	0.003057&	0.0034495&	0.002457&	0.009752&	0.0125695&	0.0086305&	0.021379&	0.0136815&	0.011022&	0.018308&	0.037721&	0.0271465 & \\
IBCF [0,0,0,0,1] 	& 0.858169 &	0.859332&	0.857039&	0.001628&	0.001755&	0.001992&	0.00672	&	0.007671&	0.004163&	0.002358&	0.002112&	0.00275	&	0.001342&	0.002685&	0.001174	& \\
IBCF [0,0,1,0,1] 	& 0.55964  &	0.570314&	0.624521&	0.003104&	0.002879&	0.003668&	0.009557&	0.013761&	0.014908&	0.02075	&	0.019553&	0.009178&	0.032727&	0.010909&	0.007273 & \\
IBCF [1,1,1,1,1] 	& 0.637067 &	0.79768 &	0.762618&	0.000114&	0.026056&	0.038596&	0.000615&	0.070052&	0.115016&	0.000381&	0.073538&	0.120321&	0.003937&	0.10119	&	0.138889	& \\
\rowcolor{Gray}
ALS-WR			   	& 0.609470& 0.646568&	0.7473595&	0.0081595&	0.0110905&	0.030684&	0.0199265&	0.02659	&	0.076963&	0.028979&	0.03916	&	0.1011035&	0.018231&	0.034093&	0.0823435& \\
ALS-WR [0,0,0,0,1] 	& 0.615021&	0.634666&	0.68831&	0.006068&	0.009741&	0.014679&	0.016717&	0.022796&	0.035334&	0.020968&	0.020161&	0.039113&	0.021127&	0.024648&	0.038732	& \\
ALS-WR [0,0,0,0,1] 	& 0.548979&	0.558437&	0.569449&	0.00113	&	0.002377&	0.00222	&	0.001546&	0.003568&	0.002498&	0.001866&	0.002358&	0.003585&	0.000503&	0.001678&	0.000839& \\
ALS-WR [0,0,1,0,1]	& 0.587088& 0.620744&	0.681467&	0.008626&	0.01031	&	0.018522&	0.022104&	0.019436&	0.043445&	0.02518	&	0.035971&	0.049161&	0.01476&	0.03321&	0.070111 & \\
ALS-WR [1,1,1,1,1] 	& 0.666988& 0.677643&	0.726329&	0.011568&	0.009503&	0.022999&	0.023229&	0.025133&	0.043412&	0.027375&	0.03864	&	0.062399&	0.031359&	0.02439&	0.062718	& \\

\bottomrule
\end{tabular}
}
\caption{Cold-start System Results - Random Splits}
\end{table}

For the 40\% splits we see that most-popular outperforms ALS-WR on all counts, while IBCF has the worst baseline performance. There seem to be no apparent gains
from using filterbots for either IBCF or ALS-WR.

\subsection{Recommendations using all events}

Table~\ref{table:results-purchase-only} shows our results from testing personalized recommenders on the purchase only dataset.
The results show that the recommenders are unable to provide any better recommendation results than using a recommender to draws
items at random. By comparing our results from our experiments stating that it is more beneficial to recommend a clicked or a wanted to be
able to recommend almost 10\% of each event type in a top-20 recommendation list for 1532 users, from a catalogue 5688 items than it is to
have a slight edge on random selection for 450 users and an item catalogue of only 1100 items. We assume it reasonable to conclude that including
all events improves the recommendation quality overall.

\subsection{Does our proposed implicit rating methods improve the recommendation quality over binary preference data?}

We got our best results in our experiments both for random and time-based splits combining ALS-WR with our implicit ratings.
ALS-WR marginally outperformed all other binary recommendation methods tested for all measured metrics.
We like to be cautions and avoid drawing any grand conclusion from our work as yet. We can fairly certainly state
that our method currently provide better performance than a most popular recommender. We can also state that
our ALS-WR performed better than UserBased KNN with 200 neighbors for \marginpar{TODO: Cold-start UserKNN200 binary to compare cold-start performance}
both our splitting methods. If we decompose their performance more closely during cold-start evaluation we see...

It is important to consider consider that different methods have been used, and it would be \emph{unwise}
to draw any grand conclusions from our results as it can also be attributed to ALS-WR simply is a better
model that seems to work well with our ratings. However, we can say that we managed to produce better recommendation
results using a combination of our implicit ratings and an existing methods than we were using binary methods.
%Counts for our employer ;)

\subsection{Compare the different implicit rating functions}

For the time-based splits both recentness functions, especially looking at ordering using a sigmoid penalization function
performed the best overall looking at our performance metrics. Which give some indication that recency actually is a factor
in the fashion domain. Price had the lowest score for all measurements, which gives some indications that popularity plays
a larger factor in the fashion domain than the price. The blend did not perform well, but it would have been interesting to
see the results if you could have had some way to learn this relationship with regression. We therefore believe we have
managed to get some insight into some of the general underlying factors of the customers.

Count does not appear to do better than sigmoid. This could gives some indication that number of days since an event is an as good estimator
for the recentness of an item. We believe that a sigmoid is a better solution for active users, while count would be more
suited for the not so active users. However, we do believe that the datasets timespan is to small for to give us a true measure.
However, if proven true, this could be used for further evaluation.

\marginpar{Conclusion - Repeat this there, strong indications young padawans}

However, the difference is marginally in both cases, making it \emph{impossible} to give a most definitive
answer to which is \emph{the best set of ratings}. Further testing should be repeated at a later point to
solidify the results.

\subsection{Cold-start Results}

We found no conclusive evidence to support that our filterbots increase the performance of either IBCF or ALS-WR.
However, they did not seem to cause any serious performance degradation either.

\subsection{Select the best combination of methods for the SoBazar recommender system}

Our experiments have shown that ALS-WR combined with our implicit ratings performed the best of all the recommendation
methods tested on our dataset.

\marginpar{TODO: Switching is the currently best alternative in our opinion...}
%Most popular understands why it is recommended
%Personalize pretty early



%\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
% & AUC &        MAP@20 &        T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &        \\
%\midrule
%Popularity Linear 		& 0.826453 &  0.021901 &   1334.5 &     1217.5 &        135.5 & 84.5 &  99.5 &  13 &    0.063344 &      0.08173 &       0.096577 &      0.017595 &      0.028308 &      0.016286 &       \\
%Price Linear 			& 0.807685 &  0.034168 &      1331.5 &        1218 &  138 &   108 &   123 &   7 &     0.081151 &      0.100936 &      0.05078 &       0.026794 &      0.044992 &      0.018096 &       \\
%Count Linear 			& 0.822363 &  0.036075 &      1305.5 &        1230.5 &        151.5 & 109 &   133 &   13 &    0.083285 &      0.108095 &      0.085686 &      0.026972 &      0.043421 &      0.033443 &       \\
%Blend 					& 0.830927 &  0.038488 &      1333.5 &        1218 &  136 &   119 &   123 &   11.5 &  0.089093 &      0.101065 &      0.084523 &      0.033347 &      0.041012 &      0.017738 &       \\
%avgs    				& 0.821857 &  0.032658 &      1326.25 &       1221 &  140.25 &        105.125 &       119.625 &       11.125 &        0.079218 &      0.097957 &      0.079392 &      0.026177 &      0.039433 &      0.021391 &      \\
%\bottomrule\end{tabular}}\caption{random mahout-svd}\end{table}
%
%\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
% & AUC &        MAP@20 &        T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &        \\
%\midrule
%Count Linear 		& 0.836785 & 0.038372 & 1298 	&  1195 &  136    &   105 &   121  &   10 &    0.080894 &      0.101255 &      0.073529 &      0.03457 &       0.040894 &      0.020969 &       \\
%Blend 		 		& 0.826914 & 0.028973 & 1296 	&  1203 &  130    &   90  &    108 &   9  &     0.069444 &      0.089776 &      0.069231 &      0.027885 &      0.029995 &      0.016919 &       \\
%Price Linear 		& 0.831955 & 0.038984 & 1249 	&  1246 &  134    &   119 &   126  &   12 &    0.095276 &      0.101124 &      0.089552 &      0.037668 &      0.034568 &      0.043466 &       \\
%Popularity Linear 	& 0.834801 & 0.019844 & 1302 	&  1196 &  131    &   70  &    81  &    3 &     0.053763 &      0.067726 &      0.022901 &      0.015446 &      0.023492 &      0.00115 &        \\
%avgs    			& 0.832614 & 0.031543 & 1286.25 & 1210  &  132.75 &   96  &    109 &   8.5 &   0.074844 &      0.08997 &       0.063803 &      0.028892 &      0.032237 &      0.020626 &      \\
%\bottomrule\end{tabular}}\caption{random mahout-svd}\end{table}



%\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
% & AUC &        MAP@20 &        T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &        \\
%\midrule
%Popularity Linear &     0.820892 &      0.018725 &      1281 &  1244.5 &        132.5 & 74 &    94.5 &  11.5 &  0.05778 &       0.075984 &      0.086836 &      0.014358 &      0.021657 &      0.016189 &       \\
%Blend & 0.833227 &      0.033997 &      1321 &  1202 &  135 &   110 &   110 &   15 &    0.083244 &      0.091591 &      0.111331 &      0.030199 &      0.033676 &      0.029479 &       \\
%Count Linear &  0.832332 &      0.034381 &      1296.5 &        1211 &  150.5 & 112.5 & 107 &   13.5 &  0.086779 &      0.088363 &      0.089518 &      0.026142 &      0.038815 &      0.022031 &       \\
%Price Linear &  0.827074 &      0.034773 &      1331.5 &        1190.5 &        136 &   114 &   118 &   9 &     0.085624 &      0.099275 &      0.066352 &      0.02961 &       0.033855 &      0.028147 &       \\
%avgs     &      0.828381 &      0.030469 &      1307.5 &        1212 &  138.5 & 102.625 &       107.375 &       12.25 & 0.078357 &      0.088803 &      0.088509 &      0.025077 &      0.032 & 0.023962 &      \\
%\bottomrule\end{tabular}}\caption{random mahout-svd}\end{table}
%\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
% & AUC &        MAP@20 &        T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &        \\
%\midrule
%Popularity Linear &     0.559097 &      0.001039 &      1286 &  1255 &  132 &   0 &     9 &     7 &     0 &     0.007171 &      0.05303 &       0 &     0.001278 &      0.012201 &       \\
%Count Linear &  0.684442 &      0.004536 &      1302 &  1217 &  154 &   24 &    16 &    1 &     0.018433 &      0.013147 &      0.006494 &      0.005376 &      0.003063 &      0.000823 &       \\
%Blend & 0.69325 &       0.002834 &      1317 &  1224 &  132 &   17 &    13 &    1 &     0.012908 &      0.010621 &      0.007576 &      0.002777 &      0.002006 &      0.000685 &       \\
%Price Linear &  0.673905 &      0.006231 &      1336 &  1208 &  129 &   21 &    19 &    4 &     0.015719 &      0.015728 &      0.031008 &      0.003822 &      0.009969 &      0.003821 &       \\
%avgs     &      0.652674 &      0.00366 &       1310.25 &       1226 &  136.75 &        15.5 &  14.25 & 3.25 &  0.011765 &      0.011667 &      0.024527 &      0.002994 &      0.004079 &      0.004383 &      \\
%\bottomrule\end{tabular}}\caption{random mahout-itembased}\end{table}
%
%% ./testikus.sh -i mongo -m "svd itembased" -s cold -c
%% model, 100, 150, 15, true, 10
%\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
% & AUC &        MAP@20 &        T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &        \\
%\midrule
%system-60 &     0.700599 &      0.01141 &       2620 &  2493.75 &       278 &   70 &    95.25 & 11.5 &  0.026721 &      0.038196 &      0.041568 &      0.008456 &      0.013681 &      0.012164 &       \\
%user-40 &       0.814795 &      0.046595 &      2353.25 &       2887.5 &        256 &   124.25 &        212 &   18.25 & 0.052935 &      0.073729 &      0.070665 &      0.017386 &      0.043957 &      0.016019 &       \\
%user-10 &       0.749688 &      0.052541 &      3487.75 &       4347.25 &       382.75 &        131 &   240.75 &        16 &    0.037655 &      0.055531 &      0.041285 &      0.018214 &      0.039171 &      0.012329 &       \\
%system-80 &     0.678032 &      0.0109 &        2620 &  2493.75 &       278 &   69.25 & 77.5 &  4.5 &   0.02643 &       0.031081 &      0.016225 &      0.010642 &      0.010781 &      0.005097 &       \\
%user-75 &       0.843745 &      0.018805 &      1000 &  1214 &  107.5 & 37.75 & 67 &    7.5 &   0.037807 &      0.055245 &      0.071091 &      0.009319 &      0.022345 &      0.017071 &       \\
%item-10 &       0.643553 &      0.000002 &      3229.75 &       2637 &  252.25 &        0 &     0.25 &  0 &     0 &     0.000095 &      0 &     0 &     0.000005 &      0 &      \\
%item-75 &       0.819198 &      0.05188 &       930.5 & 754.25 &        74.75 & 118 &   119.75 &        11.75 & 0.126923 &      0.158576 &      0.15773 &       0.04188 &       0.064668 &      0.046062 &       \\
%system-40 &     0.747051 &      0.018795 &      2620 &  2493.75 &       278 &   126.5 & 144.25 &        12.5 &  0.048288 &      0.057845 &      0.044948 &      0.015315 &      0.024603 &      0.01556 &        \\
%item-40 &       0.857711 &      0.023095 &      2163.75 &       1750.75 &       168.25 &        153 &   150.5 & 11.5 &  0.070713 &      0.085908 &      0.068284 &      0.017774 &      0.029951 &      0.023092 &       \\
%avgs     &      0.761597 &      0.026003 &      2336.111111 &   2341.333333 &   230.611111 &    92.194444 &     123.027778 &    10.388889 &     0.047497 &      0.0618 &        0.056866 &      0.015443 &      0.027685 &      0.016377 &    \\
%\bottomrule\end{tabular}}\caption{cold mahout-svd}\end{table}
%\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
% & AUC &        MAP@20 &        T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &        \\
%\midrule
%system-60 &     0.619268 &      0.000893 &      2620 &  2493.75 &       278 &   14 &    13.25 & 3.75 &  0.005345 &      0.005313 &      0.013612 &      0.00085 &       0.000925 &      0.002746 &       \\
%user-40 &       0.51816 &       0.001746 &      2353.25 &       2887.5 &        256 &   6.75 &  11.75 & 4 &     0.002903 &      0.004112 &      0.015758 &      0.000451 &      0.001418 &      0.001011 &       \\
%user-10 &       0.572922 &      0.005124 &      3487.75 &       4347.25 &       382.75 &        14.75 & 26.75 & 8.75 &  0.004213 &      0.006171 &      0.024082 &      0.001196 &      0.00333 &       0.003179 &       \\
%system-80 &     0.614364 &      0.001634 &      2620 &  2493.75 &       278 &   15.75 & 19.75 & 3.5 &   0.006011 &      0.007922 &      0.012562 &      0.00147 &       0.002023 &      0.001259 &       \\
%system-40 &     0.60479 &       0.001445 &      2620 &  2493.75 &       278 &   13.5 &  12.25 & 2.5 &   0.005154 &      0.004915 &      0.009138 &      0.001207 &      0.001657 &      0.001073 &       \\
%item-10 &       0.491413 &      0.00108 &       3229.75 &       2637 &  252.25 &        21 &    15.5 &  2.75 &  0.006497 &      0.005883 &      0.010931 &      0.001203 &      0.000541 &      0.000803 &       \\
%item-75 &       0.489849 &      0.00029 &       930.5 & 754.25 &        74.75 & 1.75 &  0.75 &  0 &     0.001875 &      0.000991 &      0 &     0.000344 &      0.000487 &      0 &      \\
%user-75 &       0.492335 &      0.000346 &      1000 &  1214 &  107.5 & 2.5 &   2 &     0.5 &   0.002522 &      0.001634 &      0.00495 &       0.000123 &      0.000308 &      0.00026 &        \\
%item-40 &       0.524914 &      0.000587 &      2163.75 &       1750.75 &       168.25 &        6.5 &   3.5 &   1 &     0.00301 &       0.001992 &      0.005946 &      0.00066 &       0.000368 &      0.000532 &       \\
%avgs     &      0.547557 &      0.00146 &       2336.111111 &   2341.333333 &   230.611111 &    10.722222 &     11.722222 &     2.972222 &      0.00417 &       0.004326 &      0.010775 &      0.000834 &      0.001229 &      0.001207 &    \\
%\bottomrule\end{tabular}}\caption{cold mahout-itembased}\end{table}
%
%% ./testikus.sh -i mongo -m "svd itembased" -s random -c
%% 5 X random
%% 1.5 X time
%\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
% & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
%\midrule
%Count Linear &  0.685822 &  0.004806 &  1319 &  1276 &  134 &   30 &    21 &    3 & 0.022745 &  0.016458 &  0.022388 &  0.004995 &  0.002649 &  0.007792 &   \\
%Blend & 0.689328 &  0.004256 &  1345.125 &  1229.625 &  136.625 &   18.1875 &   18.4375 &   1.5625 &    0.013467 &  0.014983 &  0.010851 &  0.003897 &  0.003688 &  0.002192 &   \\
%Price Linear &  0.681383 &  0.00618 &   1310.125 &  1259.625 &  142.375 &   22.875 &    24.4375 &   4.9375 &    0.017476 &  0.019434 &  0.034821 &  0.006033 &  0.005218 &  0.004966 &   \\
%Popularity Linear & 0.557652 &  0.000516 &  1335.4375 & 1236.5625 & 140.125 &   0 & 6.0625 &    3.875 & 0 & 0.004902 &  0.0277 &    0 & 0.000774 &  0.003872 &   \\
%avgs     &  0.653546 &  0.003939 &  1327.421875 &   1250.453125 &   138.28125 & 17.765625 & 17.484375 & 3.34375 &   0.013422 &  0.013944 &  0.02394 &   0.003731 &  0.003082 &  0.004705 &  \\
%\bottomrule\end{tabular}}\caption{random mahout-itembased}\end{table}
%\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
% & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
%\midrule
%Count Linear Timetrain &    0.421583 &  0.002835 &  3037 &  2328 &  36 &    14 &    5 & 0 & 0.00461 &   0.002148 &  0 & 0.002681 &  0.000716 &  0 &  \\
%Recentness Sigmoid Fixed Sr &   0.419844 &  0.001989 &  3037 &  2328 &  36 &    14 &    6 & 0 & 0.00461 &   0.002577 &  0 & 0.002442 &  0.00064 &   0 &  \\
%Blend Timetrain &   0.420165 &  0.002595 &  3037 &  2328 &  36 &    12 &    7 & 0 & 0.003951 &  0.003007 &  0 & 0.002506 &  0.001524 &  0 &  \\
%Popularity Linear Timetrain &   0.326824 &  0 & 3037 &  2328 &  36 &    0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 &  \\
%Price Linear Timetrain &    0.419367 &  0.003731 &  3037 &  2328 &  36 &    19 &    5 & 1 & 0.006256 &  0.002148 &  0.027778 &  0.003329 &  0.001435 &  0.000421 &   \\
%avgs     &  0.401556 &  0.00223 &   3037 &  2328 &  36 &    11.8 &  4.6 &   0.2 &   0.003885 &  0.001976 &  0.005556 &  0.002192 &  0.000863 &  0.000084 &  \\
%\bottomrule\end{tabular}}\caption{time mahout-itembased}\end{table}
%\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
% & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
%\midrule
%Blend & 0.833796 &  0.034925 &  1345.125 &  1229.625 &  136.625 &   116.5 & 124.5625 &  10.875 &    0.086677 &  0.101251 &  0.079373 &  0.029706 &  0.043486 &  0.015501 &   \\
%Count Linear &  0.842135 &  0.040149 &  1319 &  1276 &  134 &   139 &   126 &   13 &    0.105383 &  0.098746 &  0.097015 &  0.037713 &  0.03745 &   0.046512 &   \\
%Price Linear &  0.825122 &  0.036 & 1310.125 &  1259.625 &  142.375 &   108.4375 &  121 &   12 &    0.082778 &  0.096036 &  0.083958 &  0.031473 &  0.039653 &  0.024824 &   \\
%Popularity Linear & 0.835715 &  0.021448 &  1335.4375 & 1236.5625 & 140.125 &   79.5625 &   83.625 &    9.5625 &    0.059627 &  0.067652 &  0.067572 &  0.019811 &  0.019074 &  0.012906 &   \\
%avgs     &  0.834192 &  0.033131 &  1327.421875 &   1250.453125 &   138.28125 & 110.875 &   113.796875 &    11.359375 & 0.083616 &  0.090921 &  0.081979 &  0.029676 &  0.034916 &  0.024935 &  \\
%\bottomrule\end{tabular}}\caption{random mahout-svd}\end{table}
%\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
% & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
%\midrule
%Count Linear Timetrain &    0.660527 &  0.006102 &  3037 &  2328 &  36 &    24 &    22 &    3 & 0.007903 &  0.00945 &   0.083333 &  0.003709 &  0.019371 &  0.045928 &   \\
%Recentness Sigmoid Fixed Sr &   0.665928 &  0.005734 &  3037 &  2328 &  36 &    27 &    17 &    2 & 0.00889 &   0.007302 &  0.055556 &  0.003275 &  0.01711 &   0.03125 &    \\
%Blend Timetrain &   0.659025 &  0.005783 &  3037 &  2328 &  36 &    25 &    17 &    3 & 0.008232 &  0.007302 &  0.083333 &  0.004066 &  0.009914 &  0.049057 &   \\
%Popularity Linear Timetrain &   0.639608 &  0.001276 &  3037 &  2328 &  36 &    8 & 12 &    1 & 0.002634 &  0.005155 &  0.027778 &  0.000338 &  0.00628 &   0.002083 &   \\
%Price Linear Timetrain &    0.64507 &   0.004391 &  3037 &  2328 &  36 &    17 &    16 &    2 & 0.005598 &  0.006873 &  0.055556 &  0.00291 &   0.008215 &  0.017508 &   \\
%avgs     &  0.654032 &  0.004657 &  3037 &  2328 &  36 &    20.2 &  16.8 &  2.2 &   0.006651 &  0.007216 &  0.061111 &  0.00286 &   0.012178 &  0.029165 &  \\
%\bottomrule\end{tabular}}\caption{time mahout-svd}\end{table}


% ./testikus.sh -i mongo -m "svd itembased" -s random -c -l >/dev/null 2>/dev/null X 10
% python2.7 $SCRIPT $OPTS -m price -fx linear &
% python2.7 $SCRIPT $OPTS -m popularity -fx linear &
\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
 & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
\midrule
Blend & 0.681352 &  0.005182 &  1330.853516 &   1215.837891 &   137.164062 &    20.693359 & 15.453125 & 6.199219 &  0.015501 &  0.012699 &  0.04507 &   0.004577 &  0.004831 &  0.010347 &   \\
avgs     &  0.681352 &  0.005182 &  1330.853516 &   1215.837891 &   137.164062 &    20.693359 & 15.453125 & 6.199219 &  0.015501 &  0.012699 &  0.04507 &   0.004577 &  0.004831 &  0.010347 &  \\
\bottomrule\end{tabular}}\caption{random mahout-itembased}\end{table}
\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
 & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
\midrule
Blend & 0.830996 &  0.030869 &  1330.853516 &   1215.837891 &   137.164062 &    99.730469 & 108.767578 &    13.310547 & 0.074787 &  0.089454 &  0.096624 &  0.026687 &  0.031277 &  0.019471 &   \\
avgs     &  0.830996 &  0.030869 &  1330.853516 &   1215.837891 &   137.164062 &    99.730469 & 108.767578 &    13.310547 & 0.074787 &  0.089454 &  0.096624 &  0.026687 &  0.031277 &  0.019471 &  \\
\bottomrule\end{tabular}}\caption{random mahout-svd}\end{table}

% ./testikus.sh -i mongo -p "UserKNN" -k '200' -s cold -c >/dev/null 2>/dev/null; X 8
\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
 & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
\midrule
item-40 &   0.729813 &  0.025537 &  2212.097656 &   1754.996094 &   163.949219 &    165.460938 &    151.414062 &    14.074219 & 0.074813 &  0.086283 &  0.085625 &  0.022548 &  0.028702 &  0.023413 &   \\
user-40 &   0.785047 &  0.044781 &  2260.105469 &   3096.078125 &   289.726562 &    104.152344 &    191.539062 &    14.851562 & 0.046002 &  0.062105 &  0.051488 &  0.019323 &  0.043143 &  0.017502 &   \\
item-10 &   0.266598 &  0.001029 &  3280.988281 &   2659.542969 &   249.304688 &    10.375 &    4.523438 &  2.570312 &  0.00316 &   0.001699 &  0.010334 &  0.000884 &  0.000764 &  0.001664 &   \\
system-40 & 0.681884 &  0.013147 &  2627.324219 &   2486.527344 &   278.0625 &  102.917969 &    112.371094 &    10.699219 & 0.039168 &  0.045216 &  0.038258 &  0.011444 &  0.014276 &  0.009888 &   \\
user-10 &   0.716397 &  0.041318 &  3370.613281 &   4641.394531 &   427.59375 & 106.28125 & 186.871094 &    11.058594 & 0.031479 &  0.040219 &  0.027177 &  0.014995 &  0.031595 &  0.014724 &   \\
system-60 & 0.628691 &  0.006918 &  2627.324219 &   2486.527344 &   278.0625 &  55.199219 & 71.441406 & 4.265625 &  0.021036 &  0.028713 &  0.015288 &  0.005678 &  0.007317 &  0.006245 &   \\
system-80 & 0.59778 &   0.00418 &   2627.324219 &   2486.527344 &   278.0625 &  43.457031 & 51.054688 & 6.105469 &  0.01656 &   0.020544 &  0.021694 &  0.003566 &  0.004508 &  0.006827 &   \\
user-75 &   0.818056 &  0.017938 &  959.085938 &    1299.039062 &   123.992188 &    28.523438 & 61.382812 & 5.960938 &  0.029624 &  0.047245 &  0.04649 &   0.011632 &  0.023055 &  0.017036 &   \\
item-75 &   0.80134 &   0.047723 &  937.207031 &    770.53125 & 71.554688 & 127.222656 &    113.402344 &    10.101562 & 0.135712 &  0.147191 &  0.140461 &  0.042161 &  0.051116 &  0.051455 &   \\
avgs     &  0.669512 &  0.022508 &  2322.452257 &   2409.018229 &   240.034288 &    82.621094 & 104.888889 &    8.854167 &  0.044173 &  0.053246 &  0.048535 &  0.014692 &  0.02272 &   0.016528 &  \\
\bottomrule\end{tabular}}\caption{cold item recommender-UserKNN-200}\end{table}

% ./testikus.sh -i mongo -p "UserKNN" -k '201' -s cold -c >/dev/null 2>/dev/null; X 8
\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
 & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
\midrule
item-40 &   0.732754 &  0.021706 &  2175.320312 &   1790.375 &  165.007812 &    159.148438 &    156.078125 &    19.078125 & 0.073112 &  0.087196 &  0.116151 &  0.01722 &   0.026924 &  0.035371 &   \\
user-40 &   0.788538 &  0.043158 &  2523.15625 &    2837.140625 &   264.460938 &    125.453125 &    179.679688 &    11.757812 & 0.049744 &  0.06329 &   0.044016 &  0.019228 &  0.038738 &  0.019624 &   \\
item-10 &   0.26706 &   0.000867 &  3299.59375 &    2639.757812 &   250.023438 &    9.359375 &  4.296875 &  2.140625 &  0.002835 &  0.001626 &  0.008569 &  0.000627 &  0.000625 &  0.001517 &   \\
system-40 & 0.67756 &   0.013813 &  2618.03125 &    2489.75 &   284.21875 & 96.890625 & 126.171875 &    12.398438 & 0.036997 &  0.050674 &  0.043687 &  0.011921 &  0.016141 &  0.009967 &   \\
user-10 &   0.715587 &  0.040096 &  3763.554688 &   4257.179688 &   389.445312 &    112.625 &   165.867188 &    13.351562 & 0.029929 &  0.038916 &  0.03453 &   0.015193 &  0.028792 &  0.010808 &   \\
system-60 & 0.618927 &  0.006037 &  2618.03125 &    2489.75 &   284.21875 & 52.9375 &   70.257812 & 7.367188 &  0.020219 &  0.028227 &  0.025702 &  0.00476 &   0.008472 &  0.011251 &   \\
system-80 & 0.597283 &  0.005325 &  2618.03125 &    2489.75 &   284.21875 & 40.835938 & 54.71875 &  2.96875 &   0.015598 &  0.02199 &   0.010495 &  0.004804 &  0.005578 &  0.00263 &    \\
user-75 &   0.816832 &  0.019514 &  1067.617188 &   1202.179688 &   105.3125 &  33.742188 & 66.21875 &  6.257812 &  0.031619 &  0.055091 &  0.059745 &  0.01044 &   0.028133 &  0.022653 &   \\
item-75 &   0.816952 &  0.045572 &  964.140625 &    739.054688 &    77.46875 &  123.898438 &    124.09375 & 9.625 & 0.128567 &  0.16815 &   0.125316 &  0.032553 &  0.063139 &  0.05284 &    \\
avgs     &  0.670166 &  0.021788 &  2405.275174 &   2326.104167 &   233.819444 &    83.876736 & 105.264757 &    9.438368 &  0.04318 &   0.05724 &   0.052023 &  0.012972 &  0.02406 &   0.018518 &  \\
\bottomrule\end{tabular}}\caption{cold item recommender-UserKNN-201}\end{table}

% ./testikus.sh -i mongo -p "UserKNN" -k '202' -s cold -t -c >/dev/null 2>/dev/null; X 8
\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
 & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
\midrule
item-40 &   0.648235 &  0.016706 &  2279.84375 &    1703.867188 &   157.773438 &    109.421875 &    79.320312 & 11.914062 & 0.047991 &  0.04656 &   0.075527 &  0.014401 &  0.022078 &  0.019659 &   \\
user-40 &   0.611308 &  0.011869 &  2263.632812 &   3365.53125 &    209.773438 &    31.546875 & 53.359375 & 7.796875 &  0.013887 &  0.015901 &  0.036729 &  0.003594 &  0.010509 &  0.013661 &   \\
user-75 &   0.627169 &  0.008725 &  935.28125 & 1447.90625 &    82.359375 & 20.960938 & 34.367188 & 4.023438 &  0.022483 &  0.023892 &  0.050296 &  0.003997 &  0.013773 &  0.002988 &   \\
system-40 & 0.533128 &  0.001209 &  2102 &  2545 &  745 &   5 & 4 & 2 & 0.002379 &  0.001572 &  0.002685 &  0.000914 &  0.00123 &   0.001339 &   \\
user-10 &   0.590539 &  0.014988 &  3423.757812 &   4928.867188 &   376.625 &   41.835938 & 64.140625 & 14.960938 & 0.012143 &  0.013037 &  0.039934 &  0.004502 &  0.007531 &  0.022632 &   \\
system-60 & 0.516497 &  0.000681 &  2102 &  2545 &  745 &   6 & 5 & 0 & 0.002854 &  0.001965 &  0 & 0.000424 &  0.001536 &  0 &  \\
system-80 & 0.525581 &  0.001467 &  2102 &  2545 &  745 &   7 & 5 & 0 & 0.00333 &   0.001965 &  0 & 0.001428 &  0.000839 &  0 &  \\
item-10 &   0.28206 &   0.001376 &  3318.804688 &   2634.976562 &   253.859375 &    20.195312 & 2.96875 &   0 & 0.006086 &  0.001127 &  0 & 0.001591 &  0.000353 &  0 &  \\
item-75 &   0.846016 &  0.041497 &  1014.476562 &   713.429688 &    55.695312 & 141.570312 &    117.007812 &    10.914062 & 0.139541 &  0.164041 &  0.196093 &  0.038018 &  0.043293 &  0.047457 &   \\
avgs     &  0.575615 &  0.010946 &  2171.310764 &   2492.175347 &   374.565104 &    42.614583 & 40.573785 & 5.734375 &  0.027855 &  0.030007 &  0.044585 &  0.007652 &  0.011238 &  0.011971 &  \\
\bottomrule\end{tabular}}\caption{cold item recommender-UserKNN-202}\end{table}

% ./testikus.sh -i mongo -p "UserKNN" -k '203' -s cold -a "1,1,1,1,1" -t -c >/dev/null 2>/dev/null; X 8
\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
 & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
\midrule
item-40 &   0.814685 &  0.016729 &  2267.679688 &   1710.414062 &   154.207031 &    96.667969 & 91.707031 & 12.515625 & 0.042631 &  0.053615 &  0.081151 &  0.014052 &  0.022257 &  0.022414 &   \\
user-40 &   0.612107 &  0.007947 &  2248.371094 &   2872.773438 &   214.890625 &    29.742188 & 50.085938 & 5.0625 &    0.013226 &  0.017464 &  0.023659 &  0.002492 &  0.00647 &   0.021707 &   \\
item-10 &   0.541788 &  0.001545 &  3302.816406 &   2642.199219 &   246.898438 &    19.027344 & 5 & 1 & 0.005758 &  0.001892 &  0.004051 &  0.001743 &  0.000464 &  0.000469 &   \\
system-60 & 0.506675 &  0.003972 &  2102 &  2545 &  745 &   7 & 4 & 1 & 0.00333 &   0.001572 &  0.001342 &  0.002384 &  0.007261 &  0.003086 &   \\
user-10 &   0.591901 &  0.012012 &  3429.230469 &   4179.898438 &   369.027344 &    40.691406 & 58.167969 & 10.917969 & 0.011864 &  0.014071 &  0.029491 &  0.00496 &   0.007856 &  0.015439 &   \\
system-40 & 0.497904 &  0.001397 &  2102 &  2545 &  745 &   5 & 8 & 0 & 0.002379 &  0.003143 &  0 & 0.001227 &  0.001484 &  0 &  \\
system-80 & 0.516121 &  0.002741 &  2102 &  2545 &  745 &   6 & 6 & 1 & 0.002854 &  0.002358 &  0.001342 &  0.0009 &    0.004764 &  0.00038 &    \\
user-75 &   0.62349 &   0.008082 &  937.464844 &    1231.296875 &   87.609375 & 16.015625 & 34.136719 & 3.367188 &  0.017116 &  0.027948 &  0.040901 &  0.003432 &  0.011321 &  0.019666 &   \\
item-75 &   0.902215 &  0.043562 &  1007.429688 &   716.65625 & 55.738281 & 147.8125 &  111.949219 &    10.917969 & 0.146719 &  0.156207 &  0.195967 &  0.03849 &   0.052843 &  0.061213 &   \\
avgs     &  0.622987 &  0.010888 &  2166.554688 &   2332.026476 &   373.707899 &    40.884115 & 41.005208 & 5.086806 &  0.02732 &   0.030919 &  0.04199 &   0.007742 &  0.012747 &  0.016042 &  \\
\bottomrule\end{tabular}}\caption{cold item recommender-UserKNN-203}\end{table}

% ./testikus.sh -i mongo -p "UserKNN" -k '204' -s cold -a "1,1,1,1,1" -c >/dev/null 2>/dev/null; X 8
\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
 & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
\midrule
item-40 &   0.855659 &  0.025778 &  2166.539062 &   1786.109375 &   169.835938 &    173.492188 &    177.851562 &    18.289062 & 0.080066 &  0.099612 &  0.107735 &  0.021921 &  0.031262 &  0.022966 &   \\
user-40 &   0.771333 &  0.04829 &   2412.257812 &   3413.585938 &   243.984375 &    117.367188 &    210.078125 &    13.585938 & 0.048605 &  0.061636 &  0.055501 &  0.019219 &  0.043589 &  0.011323 &   \\
item-10 &   0.530194 &  0.000592 &  3249.5625 & 2680.023438 &   248.320312 &    7.648438 &  2.796875 &  0.65625 &   0.002357 &  0.001046 &  0.002667 &  0.00051 &   0.000303 &  0.000865 &   \\
system-40 & 0.72015 &   0.013762 &  2640.648438 &   2467.359375 &   283.484375 &    104.898438 &    119.828125 &    15.992188 & 0.039735 &  0.048553 &  0.055294 &  0.010412 &  0.017045 &  0.011912 &   \\
user-10 &   0.71281 &   0.043224 &  3601.445312 &   5114.398438 &   358.179688 &    108.5 & 187.75 &    9.023438 &  0.030048 &  0.036689 &  0.025119 &  0.014691 &  0.034312 &  0.006239 &   \\
system-60 & 0.693295 &  0.008204 &  2640.648438 &   2467.359375 &   283.484375 &    59.679688 & 76.460938 & 9.132812 &  0.022603 &  0.030986 &  0.032103 &  0.005512 &  0.011134 &  0.00963 &    \\
system-80 & 0.678794 &  0.00546 &   2640.648438 &   2467.359375 &   283.484375 &    49.039062 & 66.398438 & 5.03125 &   0.018578 &  0.0269 &    0.01744 &   0.003926 &  0.007684 &  0.003351 &   \\
user-75 &   0.802034 &  0.017924 &  1018.328125 &   1442.351562 &   99.992188 & 34.625 &    65.9375 &   4.070312 &  0.033879 &  0.045788 &  0.039798 &  0.008743 &  0.019683 &  0.022542 &   \\
item-75 &   0.831236 &  0.05022 &   946.835938 &    758.320312 &    69.679688 & 129.835938 &    139.296875 &    10.015625 & 0.137126 &  0.183644 &  0.143858 &  0.041348 &  0.063244 &  0.050329 &   \\
avgs     &  0.732834 &  0.023717 &  2368.546007 &   2510.763021 &   226.716146 &    87.231771 & 116.266493 &    9.532986 &  0.045889 &  0.059428 &  0.05328 &   0.014031 &  0.025362 &  0.015462 &  \\
\bottomrule\end{tabular}}\caption{cold item recommender-UserKNN-204}\end{table}

% ./testikus.sh -i mongo -p "UserKNN" -k '205' -s cold -a "0,0,1,0,1" -t -c >/dev/null 2>/dev/null; X 8
\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
 & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
\midrule
item-40 &   0.803095 &  0.01611 &   2236.210938 &   1703.125 &  153.0625 &  108.101562 &    80.859375 & 12.617188 & 0.04831 &   0.047466 &  0.082315 &  0.015453 &  0.019822 &  0.020325 &   \\
item-10 &   0.502578 &  0.001143 &  3256.484375 &   2630.90625 &    244.882812 &    18.203125 & 4 & 0.4375 &    0.005589 &  0.00152 &   0.001774 &  0.001311 &  0.000396 &  0.000192 &   \\
user-75 &   0.630976 &  0.007161 &  997.039062 &    1470.71875 &    92.125 &    15.304688 & 34.109375 & 3.289062 &  0.015156 &  0.023436 &  0.036053 &  0.004202 &  0.007974 &  0.016583 &   \\
system-40 & 0.586381 &  0.00279 &   2102 &  2545 &  745 &   9 & 10 &    1 & 0.004282 &  0.003929 &  0.001342 &  0.002618 &  0.002282 &  0.000463 &   \\
user-10 &   0.59744 &   0.01196 &   3691.609375 &   4997.5 &    385.875 &   38.96875 &  55.320312 & 11.90625 &  0.010488 &  0.01113 &   0.030454 &  0.00518 &   0.007032 &  0.020254 &   \\
user-40 &   0.614082 &  0.010401 &  2438.59375 &    3401.054688 &   230.796875 &    33.140625 & 51.703125 & 5.625 & 0.013618 &  0.015308 &  0.024285 &  0.003884 &  0.007785 &  0.02068 &    \\
system-60 & 0.557664 &  0.001711 &  2102 &  2545 &  745 &   4 & 3 & 1 & 0.001903 &  0.001179 &  0.001342 &  0.000403 &  0.000147 &  0.009434 &   \\
system-80 & 0.569071 &  0.000879 &  2102 &  2545 &  745 &   4 & 4 & 1 & 0.001903 &  0.001572 &  0.001342 &  0.000968 &  0.000888 &  0.000364 &   \\
item-75 &   0.890658 &  0.038131 &  995.5625 &  713.070312 &    54.5625 &   148.226562 &    105.164062 &    10 &    0.148828 &  0.147474 &  0.183324 &  0.035856 &  0.040242 &  0.047308 &   \\
avgs     &  0.639105 &  0.010032 &  2213.5 &    2505.708333 &   377.367188 &    42.105035 & 38.684028 & 5.208333 &  0.027786 &  0.028113 &  0.040248 &  0.007764 &  0.009619 &  0.015067 &  \\
\bottomrule\end{tabular}}\caption{cold item recommender-UserKNN-205}\end{table}

% ./testikus.sh -i mongo -p "UserKNN" -k '206' -s cold -a "0,0,0,0,1" -t -c >/dev/null 2>/dev/null; X 8
\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
 & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
\midrule
item-40 &   0.789355 &  0.01461 &   2238.700867 &   1711.209045 &   152.747925 &    105.489685 &    82.338928 & 12.259216 & 0.047114 &  0.048104 &  0.080229 &  0.01065 &   0.018065 &  0.021833 &   \\
item-10 &   0.498586 &  0.000621 &  3265.893738 &   2637.368103 &   244.905762 &    6.889709 &  4.740234 &  1.001648 &  0.002109 &  0.001798 &  0.004092 &  0.000623 &  0.000669 &  0.000333 &   \\
user-75 &   0.614697 &  0.000992 &  967.819946 &    1347.668579 &   74.59137 &  2.369202 &  4.44873 &   0.02002 &   0.002415 &  0.003329 &  0.000187 &  0.000581 &  0.000857 &  0.000031 &   \\
system-40 & 0.657185 &  0.009218 &  2103.980743 &   2544.764618 &   743.254547 &    44.171448 & 115.042816 &    19.958649 & 0.020982 &  0.045208 &  0.026865 &  0.0041 &    0.012644 &  0.008608 &   \\
user-10 &   0.609865 &  0.018558 &  3393.219971 &   4738.493896 &   337.380493 &    52.253052 & 87.478149 & 2.860229 &  0.015364 &  0.018418 &  0.008636 &  0.005454 &  0.014182 &  0.002674 &   \\
user-40 &   0.635655 &  0.011055 &  2261.333923 &   3211.827087 &   192.386902 &    32.279175 & 58.395752 & 0.917175 &  0.014218 &  0.018182 &  0.004349 &  0.003933 &  0.011236 &  0.000262 &   \\
system-60 & 0.666948 &  0.00923 &   2103.980743 &   2544.764618 &   743.254547 &    40.067505 & 95.917358 & 8.992554 &  0.019041 &  0.037691 &  0.012127 &  0.004853 &  0.01246 &   0.001802 &   \\
system-80 & 0.66452 &   0.009042 &  2103.980743 &   2544.764618 &   743.254547 &    41.028412 & 77.982208 & 10.983612 & 0.019501 &  0.030644 &  0.014796 &  0.006089 &  0.014594 &  0.003673 &   \\
item-75 &   0.643021 &  0.006611 &  999.910706 &    714.428589 &    53.414978 & 35.61615 &  25.912537 & 1.069336 &  0.035657 &  0.036182 &  0.019746 &  0.006758 &  0.006962 &  0.007013 &   \\
avgs     &  0.642204 &  0.008882 &  2159.869042 &   2443.921017 &   365.02123 & 40.01826 &  61.361857 & 6.451382 &  0.0196 &    0.026617 &  0.019003 &  0.004782 &  0.010185 &  0.005137 &  \\
\bottomrule\end{tabular}}\caption{cold item recommender-UserKNN-206}\end{table}

% ./testikus.sh -i mongo -p "UserKNN" -k '207' -s cold -a "0,0,0,0,1" -c >/dev/null 2>/dev/null; X8
\begin{table}\centering\resizebox{\columnwidth}{!}{\begin{tabular}{*{19}l}\toprule
 & AUC &    MAP@20 &    T\_c &  T\_w &  T\_p &  P\_c &  P\_w &  P\_p &  R\_c &  R\_w &  R\_p &  MAP@20-click &  MAP@20-want &   MAP@20-purchase &    \\
\midrule
item-40 &   0.792919 &  0.024905 &  2221.515625 &   1746.3125 & 165.4375 &  167.90625 & 163.671875 &    14.59375 &  0.075559 &  0.093667 &  0.087469 &  0.022896 &  0.026702 &  0.023497 &   \\
user-40 &   0.801936 &  0.044794 &  2466.515625 &   3168.359375 &   296.828125 &    124.359375 &    182.5 & 16.078125 & 0.050594 &  0.057733 &  0.054139 &  0.021844 &  0.038962 &  0.014431 &   \\
item-10 &   0.493863 &  0.000879 &  3289.703125 &   2650.296875 &   253.484375 &    9 & 5.703125 &  2.296875 &  0.002741 &  0.002151 &  0.009079 &  0.000584 &  0.000842 &  0.001685 &   \\
system-40 & 0.733364 &  0.015101 &  2641.640625 &   2462.796875 &   287.265625 &    105.203125 &    123.453125 &    14.71875 &  0.039802 &  0.050114 &  0.051022 &  0.012167 &  0.018883 &  0.016592 &   \\
user-10 &   0.730964 &  0.041364 &  3719.21875 &    4709.5625 & 443.46875 & 117.84375 & 177.609375 &    11.5625 &   0.031795 &  0.037776 &  0.026948 &  0.014133 &  0.03071 &   0.00857 &    \\
system-60 & 0.67933 &   0.008633 &  2641.640625 &   2462.796875 &   287.265625 &    60.96875 &  72.921875 & 5.640625 &  0.023065 &  0.029628 &  0.019672 &  0.007087 &  0.010679 &  0.003525 &   \\
system-80 & 0.660621 &  0.004737 &  2641.640625 &   2462.796875 &   287.265625 &    51.328125 & 52.875 &    5.46875 &   0.019417 &  0.021482 &  0.018818 &  0.003923 &  0.005976 &  0.009571 &   \\
user-75 &   0.824616 &  0.015939 &  1054.84375 &    1325.515625 &   124.359375 &    38.234375 & 61 &    5.140625 &  0.036266 &  0.046207 &  0.041456 &  0.009555 &  0.018193 &  0.008117 &   \\
item-75 &   0.819434 &  0.04865 &   932.953125 &    768.3125 &  78.90625 &  127.15625 & 130.25 &    10.640625 & 0.136302 &  0.169513 &  0.135532 &  0.042205 &  0.062267 &  0.041984 &   \\
avgs     &  0.726339 &  0.022778 &  2401.074653 &   2417.416667 &   247.142361 &    89.111111 & 107.776042 &    9.571181 &  0.046171 &  0.056475 &  0.049348 &  0.014933 &  0.02369 &   0.014219 &  \\
\bottomrule\end{tabular}}\caption{cold item recommender-UserKNN-207}\end{table}
